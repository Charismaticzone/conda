

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Conda package specification &mdash; conda 4.8.4.post23+f3585ef documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/conda-logo.png"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Conda channels" href="channels.html" />
    <link rel="prev" title="Conda packages" href="packages.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> conda
          

          
          </a>

          
            
            
              <div class="version">
                4.8.4.post23+f3585ef
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User guide</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Concepts</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="conda-commands.html">Conda commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="packages.html">Conda packages</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Conda package specification</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#package-metadata">Package metadata</a></li>
<li class="toctree-l4"><a class="reference internal" href="#repository-structure-and-index">Repository structure and index</a></li>
<li class="toctree-l4"><a class="reference internal" href="#package-match-specifications">Package match specifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="#version-ordering">Version ordering</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="channels.html">Conda channels</a></li>
<li class="toctree-l3"><a class="reference internal" href="environments.html">Conda environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing-with-conda.html">Installing with conda</a></li>
<li class="toctree-l3"><a class="reference internal" href="conda-performance.html">Conda performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="data-science.html">Conda for data scientists</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started.html">Getting started with conda</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/index.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tasks/index.html">Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cheatsheet.html">Cheat sheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration.html">Conda configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/index.html">Conda Python API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commands.html">Command reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">conda</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">User guide</a> &raquo;</li>
        
          <li><a href="index.html">Concepts</a> &raquo;</li>
        
      <li>Conda package specification</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/user-guide/concepts/pkg-specs.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="conda-package-specification">
<h1>Conda package specification<a class="headerlink" href="#conda-package-specification" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#package-metadata" id="id3">Package metadata</a></li>
<li><a class="reference internal" href="#repository-structure-and-index" id="id4">Repository structure and index</a></li>
<li><a class="reference internal" href="#package-match-specifications" id="id5">Package match specifications</a></li>
<li><a class="reference internal" href="#version-ordering" id="id6">Version ordering</a></li>
</ul>
</div>
<div class="section" id="package-metadata">
<span id="id1"></span><h2><a class="toc-backref" href="#id3">Package metadata</a><a class="headerlink" href="#package-metadata" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">info/</span></code> directory contains all metadata about a package.
Files in this location are not installed under the install
prefix. Although you are free to add any file to this directory,
conda only inspects the content of the files discussed below.</p>
<div class="section" id="info">
<h3>Info<a class="headerlink" href="#info" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>files<ul>
<li>a list of all the files in the package (not included in <code class="docutils literal notranslate"><span class="pre">info/</span></code>)</li>
</ul>
</li>
<li><code class="docutils literal notranslate"><span class="pre">index.json</span></code><ul>
<li>metadata about the package including platform, version,
dependencies, and build info</li>
</ul>
</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
  <span class="s2">&quot;arch&quot;</span>: <span class="s2">&quot;x86_64&quot;</span>,
  <span class="s2">&quot;build&quot;</span>: <span class="s2">&quot;py37hfa4b5c9_1&quot;</span>,
  <span class="s2">&quot;build_number&quot;</span>: <span class="m">1</span>,
  <span class="s2">&quot;depends&quot;</span>: <span class="o">[</span>
    <span class="s2">&quot;depend &gt; 1.1.1&quot;</span>
  <span class="o">]</span>,
  <span class="s2">&quot;license&quot;</span>: <span class="s2">&quot;BSD 3-Clause&quot;</span>,
  <span class="s2">&quot;name&quot;</span>: <span class="s2">&quot;fun-packge&quot;</span>,
  <span class="s2">&quot;platform&quot;</span>: <span class="s2">&quot;linux&quot;</span>,
  <span class="s2">&quot;subdir&quot;</span>: <span class="s2">&quot;linux-64&quot;</span>,
  <span class="s2">&quot;timestamp&quot;</span>: <span class="m">1535416612069</span>,
  <span class="s2">&quot;version&quot;</span>: <span class="s2">&quot;0.0.0&quot;</span>
<span class="o">}</span>
</pre></div>
</div>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">paths.json</span></code><ul>
<li>a list of files in the package, along with their associated SHA-256, size in bytes,
and the type of path (eg. hardlink vs. softlink)</li>
</ul>
</li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">{</span>
  <span class="s2">&quot;paths&quot;</span>: <span class="o">[</span>
    <span class="o">{</span>
      <span class="s2">&quot;_path&quot;</span>: <span class="s2">&quot;lib/python3.7/site-packages/fun-packge/__init__.py&quot;</span>,
      <span class="s2">&quot;path_type&quot;</span>: <span class="s2">&quot;hardlink&quot;</span>,
      <span class="s2">&quot;sha256&quot;</span>: <span class="s2">&quot;76f3b6e34feeb651aff33ca59e0279c4eadce5a50c6ad93b961c846f7ba717e9&quot;</span>,
      <span class="s2">&quot;size_in_bytes&quot;</span>: <span class="m">2067</span>
    <span class="o">}</span>,
    <span class="o">{</span>
      <span class="s2">&quot;_path&quot;</span>: <span class="s2">&quot;lib/python3.7/site-packages/fun-packge/__config__.py&quot;</span>,
      <span class="s2">&quot;path_type&quot;</span>: <span class="s2">&quot;hardlink&quot;</span>,
      <span class="s2">&quot;sha256&quot;</span>: <span class="s2">&quot;348e3602616c1fe4c84502b1d8cf97c740d886002c78edab176759610d287f06&quot;</span>,
      <span class="s2">&quot;size_in_bytes&quot;</span>: <span class="m">87519</span>
    <span class="o">}</span>,
    ...
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="info-index-json">
<h3>info/index.json<a class="headerlink" href="#info-index-json" title="Permalink to this headline">¶</a></h3>
<p>This file contains basic information about the package, such as
name, version, build string, and dependencies. The content of this
file is stored in <code class="docutils literal notranslate"><span class="pre">repodata.json</span></code>, which is the repository
index file, hence the name <code class="docutils literal notranslate"><span class="pre">index.json</span></code>. The JSON object is a
dictionary containing the keys shown below. The filename of the
conda package is composed of the first 3 values, as in:
<code class="docutils literal notranslate"><span class="pre">&lt;name&gt;-&lt;version&gt;-&lt;build&gt;.tar.bz2</span></code>.</p>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="19%" />
<col width="19%" />
<col width="63%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><strong>Key</strong></td>
<td><strong>Type</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr class="row-even"><td>name</td>
<td>string</td>
<td>The lowercase name of the package. May contain the &quot;-&quot;
character.</td>
</tr>
<tr class="row-odd"><td>version</td>
<td>string</td>
<td>The package version. May not contain &quot;-&quot;. Conda
acknowledges <a class="reference external" href="https://www.python.org/dev/peps/pep-0440/">PEP 440</a>.</td>
</tr>
<tr class="row-even"><td>build</td>
<td>string</td>
<td><p class="first">The build string. May not contain &quot;-&quot;. Differentiates
builds of packages with otherwise identical names and
versions, such as:</p>
<ul class="last simple">
<li>A build with other dependencies, such as Python 3.4
instead of Python 2.7.</li>
<li>A bug fix in the build process.</li>
<li>Some different optional dependencies, such as MKL versus
ATLAS linkage. Nothing in conda actually inspects the
build string. Strings such as <code class="docutils literal notranslate"><span class="pre">np18py34_1</span></code> are
designed only for human readability and conda never
parses them.</li>
</ul>
</td>
</tr>
<tr class="row-odd"><td>build_number</td>
<td>integer</td>
<td><p class="first">A non-negative integer representing the build number of
the package.</p>
<p class="last">Unlike the build string, the build_number is inspected by
conda. Conda uses it to sort packages that have otherwise
identical names and versions to determine the latest one.
This is important because new builds that contain bug
fixes for the way a package is built may be added to a
repository.</p>
</td>
</tr>
<tr class="row-even"><td>depends</td>
<td>list of strings</td>
<td>A list of dependency specifications, where each element
is a string, as outlined in <a class="reference internal" href="#build-version-spec"><span class="std std-ref">Package match specifications</span></a>.</td>
</tr>
<tr class="row-odd"><td>arch</td>
<td>string</td>
<td><p class="first">Optional. The architecture the package is built for.</p>
<p>EXAMPLE: <code class="docutils literal notranslate"><span class="pre">x86_64</span></code></p>
<p class="last">Conda currently does not use this key.</p>
</td>
</tr>
<tr class="row-even"><td>platform</td>
<td>string</td>
<td><p class="first">Optional. The OS that the package is built for.</p>
<p>EXAMPLE: <code class="docutils literal notranslate"><span class="pre">osx</span></code></p>
<p class="last">Conda currently does not use this key. Packages for a
specific architecture and platform are usually
distinguished by the repository subdirectory that contains
them---see <a class="reference internal" href="#repo-si"><span class="std std-ref">Repository structure and index</span></a>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="info-files">
<h3>info/files<a class="headerlink" href="#info-files" title="Permalink to this headline">¶</a></h3>
<p>Lists all files that are part of the package itself, 1 per line.
All of these files need to get linked into the environment. Any
files in the package that are not listed in this file are not
linked when the package is installed. The directory delimiter for
the files in <code class="docutils literal notranslate"><span class="pre">info/files</span></code> should always be &quot;/&quot;, even on
Windows. This matches the directory delimiter used in the
tarball.</p>
</div>
<div class="section" id="info-has-prefix">
<h3>info/has_prefix<a class="headerlink" href="#info-has-prefix" title="Permalink to this headline">¶</a></h3>
<p>Optional file. Lists all files that contain a hard-coded build
prefix or placeholder prefix, which needs to be replaced by the
install prefix at installation time.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Due to the way the binary replacement works, the
placeholder prefix must be longer than the install prefix.</p>
</div>
<p>Each line of this file should be either a path, in which case it
is considered a text file with the default placeholder
<code class="docutils literal notranslate"><span class="pre">/opt/anaconda1anaconda2anaconda3</span></code>, or a space-separated list
of placeholder, mode, and path, where:</p>
<ul class="simple">
<li>Placeholder is the build or placeholder prefix.</li>
<li>Mode is either <code class="docutils literal notranslate"><span class="pre">text</span></code> or <code class="docutils literal notranslate"><span class="pre">binary</span></code>.</li>
<li>Path is the relative path of the file to be updated.</li>
</ul>
<p>EXAMPLE: On Windows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Scripts/script1.py&quot;</span>
<span class="s2">&quot;C:\Users\username</span><span class="se">\a</span><span class="s2">naconda\envs\_build&quot;</span> <span class="n">text</span> <span class="s2">&quot;Scripts/script2.bat&quot;</span>
<span class="s2">&quot;C:/Users/username/anaconda/envs/_build&quot;</span> <span class="n">binary</span> <span class="s2">&quot;Scripts/binary&quot;</span>
</pre></div>
</div>
<p>EXAMPLE: On macOS or Linux:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">bin</span><span class="o">/</span><span class="n">script</span><span class="o">.</span><span class="n">sh</span>
<span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">username</span><span class="o">/</span><span class="n">anaconda</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">_build</span> <span class="n">binary</span> <span class="nb">bin</span><span class="o">/</span><span class="n">binary</span>
<span class="o">/</span><span class="n">Users</span><span class="o">/</span><span class="n">username</span><span class="o">/</span><span class="n">anaconda</span><span class="o">/</span><span class="n">envs</span><span class="o">/</span><span class="n">_build</span> <span class="n">text</span> <span class="n">share</span><span class="o">/</span><span class="n">text</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The directory delimiter for the relative path must always
be &quot;/&quot;, even on Windows. The placeholder may contain either &quot;\&quot;
or &quot;/&quot; on Windows, but the replacement prefix will match the
delimiter used in the placeholder. The default placeholder
<code class="docutils literal notranslate"><span class="pre">/opt/anaconda1anaconda2anaconda3</span></code> is an exception, being
replaced with the install prefix using the native path
delimiter. On Windows, the placeholder and path always appear
in quotes to support paths with spaces.</p>
</div>
</div>
<div class="section" id="info-license-txt">
<h3>info/license.txt<a class="headerlink" href="#info-license-txt" title="Permalink to this headline">¶</a></h3>
<p>Optional file. The software license for the package.</p>
</div>
<div class="section" id="info-no-link">
<h3>info/no_link<a class="headerlink" href="#info-no-link" title="Permalink to this headline">¶</a></h3>
<p>Optional file. Lists all files that cannot be linked - either
soft-linked or hard-linked - into environments and are copied
instead.</p>
</div>
<div class="section" id="info-about-json">
<h3>info/about.json<a class="headerlink" href="#info-about-json" title="Permalink to this headline">¶</a></h3>
<p>Optional file. Contains the entries in the <a class="reference external" href="https://docs.conda.io/projects/conda-build/en/latest/resources/define-metadata.html#about-section">about section</a>
of the <code class="docutils literal notranslate"><span class="pre">meta.yaml</span></code> file. The following keys are
added to <code class="docutils literal notranslate"><span class="pre">info/about.json</span></code> if present in the build recipe:</p>
<ul class="simple">
<li>home</li>
<li>dev_url</li>
<li>doc_url</li>
<li>license_url</li>
<li>license</li>
<li>summary</li>
<li>description</li>
<li>license_family</li>
</ul>
</div>
<div class="section" id="info-recipe">
<h3>info/recipe<a class="headerlink" href="#info-recipe" title="Permalink to this headline">¶</a></h3>
<p>A directory containing the full contents of the build recipe.</p>
</div>
<div class="section" id="meta-yaml-rendered">
<h3>meta.yaml.rendered<a class="headerlink" href="#meta-yaml-rendered" title="Permalink to this headline">¶</a></h3>
<p>The fully rendered build recipe. See
<a class="reference external" href="https://docs.conda.io/projects/conda-build/en/latest/resources/commands/conda-render.html">conda render</a>.</p>
<p>This directory is present only when the the include_recipe flag
is <code class="docutils literal notranslate"><span class="pre">True</span></code> in the <a class="reference external" href="https://docs.conda.io/projects/conda-build/en/latest/resources/define-metadata.html#build-section">build section</a>.</p>
</div>
</div>
<div class="section" id="repository-structure-and-index">
<span id="repo-si"></span><h2><a class="toc-backref" href="#id4">Repository structure and index</a><a class="headerlink" href="#repository-structure-and-index" title="Permalink to this headline">¶</a></h2>
<p>A conda repository - or channel - is a directory tree, usually
served over HTTPS, which has platform subdirectories, each of
which contain conda packages and a repository index. The index
file <code class="docutils literal notranslate"><span class="pre">repodata.json</span></code> lists all conda packages in the platform
subdirectory. Use <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">index</span></code> to create such an index from
the conda packages within a directory. It is simple mapping of
the full conda package filename to the dictionary object in
<code class="docutils literal notranslate"><span class="pre">info/index.json</span></code> described in <a class="reference external" href="https://docs.conda.io/projects/conda-build/en/latest/resources/link-scripts.html">link scripts</a>.</p>
<p>In the following example, a repository provides the conda package
<code class="docutils literal notranslate"><span class="pre">misc-1.0-np17py27_0.tar.bz2</span></code> on 64-bit Linux and 32-bit
Windows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">some</span> <span class="n">path</span><span class="o">&gt;/</span><span class="n">linux</span><span class="o">-</span><span class="mi">64</span><span class="o">/</span><span class="n">repodata</span><span class="o">.</span><span class="n">json</span>
                     <span class="n">repodata</span><span class="o">.</span><span class="n">json</span><span class="o">.</span><span class="n">bz2</span>
                     <span class="n">misc</span><span class="o">-</span><span class="mf">1.0</span><span class="o">-</span><span class="n">np17py27_0</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">bz2</span>
           <span class="o">/</span><span class="n">win</span><span class="o">-</span><span class="mi">32</span><span class="o">/</span><span class="n">repodata</span><span class="o">.</span><span class="n">json</span>
                   <span class="n">repodata</span><span class="o">.</span><span class="n">json</span><span class="o">.</span><span class="n">bz2</span>
                   <span class="n">misc</span><span class="o">-</span><span class="mf">1.0</span><span class="o">-</span><span class="n">np17py27_0</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">bz2</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Both conda packages have identical filenames and are
distinguished only by the repository subdirectory that contains
them.</p>
</div>
</div>
<div class="section" id="package-match-specifications">
<span id="build-version-spec"></span><h2><a class="toc-backref" href="#id5">Package match specifications</a><a class="headerlink" href="#package-match-specifications" title="Permalink to this headline">¶</a></h2>
<p>This match specification is not the same as the syntax used at
the command line with <code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span></code>, such as
<code class="docutils literal notranslate"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">python=3.4</span></code>. Internally, conda translates the
command line syntax to the spec defined in this section.</p>
<p>EXAMPLE: python=3.4 is translated to python 3.4*.</p>
<p>Package dependencies are specified using a match specification.
A match specification is a space-separated string of 1, 2, or 3
parts:</p>
<ul>
<li><p class="first">The first part is always the exact name of the package.</p>
</li>
<li><p class="first">The second part refers to the version and may contain special
characters:</p>
<ul>
<li><p class="first">| means OR.</p>
<p>EXAMPLE: <code class="docutils literal notranslate"><span class="pre">1.0|1.2</span></code> matches version 1.0 or 1.2</p>
</li>
<li><p class="first">* matches 0 or more characters in the version string. In
terms of regular expressions, it is the same as <code class="docutils literal notranslate"><span class="pre">r</span></code>.*````.</p>
<p>EXAMPLE: 1.0|1.4* matches 1.0, 1.4 and 1.4.1b2, but not 1.2.</p>
</li>
<li><p class="first">&lt;, &gt;, &lt;=, &gt;=, == and != are relational operators on versions,
which are compared using
<a class="reference external" href="https://www.python.org/dev/peps/pep-0440/">PEP-440</a>.  For example,
<code class="docutils literal notranslate"><span class="pre">&lt;=1.0</span></code> matches <code class="docutils literal notranslate"><span class="pre">0.9</span></code>, <code class="docutils literal notranslate"><span class="pre">0.9.1</span></code>, and <code class="docutils literal notranslate"><span class="pre">1.0</span></code>, but not <code class="docutils literal notranslate"><span class="pre">1.0.1</span></code>.
<code class="docutils literal notranslate"><span class="pre">==</span></code> and <code class="docutils literal notranslate"><span class="pre">!=</span></code> are exact equality.</p>
<p>Pre-release versioning is also supported such that <code class="docutils literal notranslate"><span class="pre">&gt;1.0b4</span></code> will match
<code class="docutils literal notranslate"><span class="pre">1.0b5</span></code> and <code class="docutils literal notranslate"><span class="pre">1.0rc1</span></code> but not <code class="docutils literal notranslate"><span class="pre">1.0b4</span></code> or <code class="docutils literal notranslate"><span class="pre">1.0a5</span></code>.</p>
<p>EXAMPLE: &lt;=1.0 matches 0.9, 0.9.1, and 1.0, but not 1.0.1.</p>
</li>
<li><p class="first">, means AND.</p>
<p>EXAMPLE: &gt;=2,&lt;3 matches all packages in the 2 series. 2.0,
2.1 and 2.9 all match, but 3.0 and 1.0 do not.</p>
</li>
<li><p class="first">, has higher precedence than |, so &gt;=1,&lt;2|&gt;3 means greater
than or equal to 1 AND less than 2 or greater than 3, which
matches 1, 1.3 and 3.0, but not 2.2.</p>
</li>
</ul>
<p>Conda parses the version by splitting it into parts separated
by |. If the part begins with &lt;, &gt;, =, or !, it is parsed as a
relational operator. Otherwise, it is parsed as a version,
possibly containing the &quot;*&quot; operator.</p>
</li>
<li><p class="first">The third part is always the exact build string. When there are
3 parts, the second part must be the exact version.</p>
</li>
</ul>
<p>Remember that the version specification cannot contain spaces,
as spaces are used to delimit the package, version, and build
string in the whole match specification. <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">&gt;=</span> <span class="pre">2.7</span></code> is an
invalid match specification. Furthermore, <code class="docutils literal notranslate"><span class="pre">python&gt;=2.7</span></code> is
matched as any version of a package named <code class="docutils literal notranslate"><span class="pre">python&gt;=2.7</span></code>.</p>
<p>When using the command line, put double quotes around any package
version specification that contains the space character or any of
the following characters: &lt;, &gt;, *, or |.</p>
<p>EXAMPLE:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="n">numpy</span><span class="o">=</span><span class="mf">1.11</span>
<span class="n">conda</span> <span class="n">install</span> <span class="n">numpy</span><span class="o">==</span><span class="mf">1.11</span>
<span class="n">conda</span> <span class="n">install</span> <span class="s2">&quot;numpy&gt;1.11&quot;</span>
<span class="n">conda</span> <span class="n">install</span> <span class="s2">&quot;numpy=1.11.1|1.11.3&quot;</span>
<span class="n">conda</span> <span class="n">install</span> <span class="s2">&quot;numpy&gt;=1.8,&lt;2&quot;</span>
</pre></div>
</div>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<p>The OR constraint &quot;numpy=1.11.1|1.11.3&quot; matches with 1.11.1 or
1.11.3.</p>
<p>The AND constraint &quot;numpy&gt;=1.8,&lt;2&quot; matches with 1.8 and 1.9 but
not 2.0.</p>
<p>The fuzzy constraint numpy=1.11 matches 1.11, 1.11.0, 1.11.1,
1.11.2, 1.11.18, and so on.</p>
<p>The exact constraint numpy==1.11 matches 1.11, 1.11.0, 1.11.0.0,
and so on.</p>
<p>The build string constraint &quot;numpy=1.11.2=*nomkl*&quot; matches the
NumPy 1.11.2 packages without MKL but not the normal MKL NumPy
1.11.2 packages.</p>
<p>The build string constraint &quot;numpy=1.11.1|1.11.3=py36_0&quot; matches
NumPy 1.11.1 or 1.11.3 built for Python 3.6 but not any versions
of NumPy built for Python 3.5 or Python 2.7.</p>
<p>The following are all valid match specifications for
numpy-1.8.1-py27_0:</p>
<ul class="simple">
<li>numpy</li>
<li>numpy 1.8*</li>
<li>numpy 1.8.1</li>
<li>numpy &gt;=1.8</li>
<li>numpy ==1.8.1</li>
<li>numpy 1.8|1.8*</li>
<li>numpy &gt;=1.8,&lt;2</li>
<li>numpy &gt;=1.8,&lt;2|1.9</li>
<li>numpy 1.8.1 py27_0</li>
<li>numpy=1.8.1=py27_0</li>
</ul>
</div>
</div>
<div class="section" id="version-ordering">
<h2><a class="toc-backref" href="#id6">Version ordering</a><a class="headerlink" href="#version-ordering" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">VersionOrder(object)</span></code> implements an order relation
between version strings.</p>
<p>Version strings can contain the usual alphanumeric characters
(A-Za-z0-9), separated into components by dots and underscores. Empty
segments (i.e. two consecutive dots, a leading/trailing underscore)
are not permitted. An optional epoch number - an integer
followed by <code class="docutils literal notranslate"><span class="pre">!</span></code> - can precede the actual version string
(this is useful to indicate a change in the versioning
scheme itself). Version comparison is case-insensitive.</p>
<div class="section" id="supported-version-strings">
<h3>Supported version strings<a class="headerlink" href="#supported-version-strings" title="Permalink to this headline">¶</a></h3>
<p>Conda supports six types of version strings:</p>
<blockquote>
<div><ul class="simple">
<li>Release versions contain only integers, e.g. <code class="docutils literal notranslate"><span class="pre">1.0</span></code>, <code class="docutils literal notranslate"><span class="pre">2.3.5</span></code>.</li>
<li>Pre-release versions use additional letters such as <code class="docutils literal notranslate"><span class="pre">a</span></code> or <code class="docutils literal notranslate"><span class="pre">rc</span></code>,
for example <code class="docutils literal notranslate"><span class="pre">1.0a1</span></code>, <code class="docutils literal notranslate"><span class="pre">1.2.beta3</span></code>, <code class="docutils literal notranslate"><span class="pre">2.3.5rc3</span></code>.</li>
<li>Development versions are indicated by the string <code class="docutils literal notranslate"><span class="pre">dev</span></code>,
for example <code class="docutils literal notranslate"><span class="pre">1.0dev42</span></code>, <code class="docutils literal notranslate"><span class="pre">2.3.5.dev12</span></code>.</li>
<li>Post-release versions are indicated by the string <code class="docutils literal notranslate"><span class="pre">post</span></code>,
for example <code class="docutils literal notranslate"><span class="pre">1.0post1</span></code>, <code class="docutils literal notranslate"><span class="pre">2.3.5.post2</span></code>.</li>
<li>Tagged versions have a suffix that specifies a particular
property of interest, e.g. <code class="docutils literal notranslate"><span class="pre">1.1.parallel</span></code>. Tags can be added
to any of the preceding 4 types. As far as sorting is concerned,
tags are treated like strings in pre-release versions.</li>
<li>An optional local version string separated by <code class="docutils literal notranslate"><span class="pre">+</span></code> can be appended
to the main (upstream) version string. It is only considered
in comparisons when the main versions are equal, but otherwise
handled in exactly the same manner.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="predictable-version-ordering">
<h3>Predictable version ordering<a class="headerlink" href="#predictable-version-ordering" title="Permalink to this headline">¶</a></h3>
<p>To obtain a predictable version ordering, it is crucial to keep the
version number scheme of a given package consistent over time.
Conda considers prerelease versions as less than release versions.</p>
<ul class="simple">
<li>Version strings should always have the same number of components
(except for an optional tag suffix or local version string).</li>
<li>Letters/Strings indicating non-release versions should always
occur at the same position.</li>
</ul>
<p>Before comparison, version strings are parsed as follows:</p>
<blockquote>
<div><ul class="simple">
<li>They are first split into epoch, version number, and local version
number at <code class="docutils literal notranslate"><span class="pre">!</span></code> and <code class="docutils literal notranslate"><span class="pre">+</span></code> respectively. If there is no <code class="docutils literal notranslate"><span class="pre">!</span></code>,
the epoch is set to 0. If there is no <code class="docutils literal notranslate"><span class="pre">+</span></code>, the local version is
empty.</li>
<li>The version part is then split into components at <code class="docutils literal notranslate"><span class="pre">.</span></code> and <code class="docutils literal notranslate"><span class="pre">_</span></code>.</li>
<li>Each component is split again into runs of numerals and non-numerals</li>
<li>Subcomponents containing only numerals are converted to integers.</li>
<li>Strings are converted to lowercase, with special treatment for <code class="docutils literal notranslate"><span class="pre">dev</span></code>
and <code class="docutils literal notranslate"><span class="pre">post</span></code>.</li>
<li>When a component starts with a letter, the fillvalue 0 is inserted
to keep numbers and strings in phase, resulting in <code class="docutils literal notranslate"><span class="pre">1.1.a1'</span> <span class="pre">==</span> <span class="pre">1.1.0a1'</span></code>.</li>
<li>The same is repeated for the local version part.</li>
</ul>
</div></blockquote>
<p>Examples:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">1.2g.beta15.rc</span>&#160; <span class="pre">=&gt;</span>&#160; <span class="pre">[[0],</span> <span class="pre">[1],</span> <span class="pre">[2,</span> <span class="pre">'g'],</span> <span class="pre">[0,</span> <span class="pre">'beta',</span> <span class="pre">15],</span> <span class="pre">[0,</span> <span class="pre">'rc']]</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">1!2.15.1_ALPHA</span>&#160; <span class="pre">=&gt;</span>&#160; <span class="pre">[[1],</span> <span class="pre">[2],</span> <span class="pre">[15],</span> <span class="pre">[1,</span> <span class="pre">'_alpha']]</span></code></p>
</div></blockquote>
<p>The resulting lists are compared lexicographically, where the following
rules are applied to each pair of corresponding subcomponents:</p>
<blockquote>
<div><ul>
<li><p class="first">Integers are compared numerically.</p>
</li>
<li><p class="first">Strings are compared lexicographically, case-insensitive.</p>
</li>
<li><p class="first">Strings are smaller than integers, except</p>
<blockquote>
<div><ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">dev</span></code> versions are smaller than all corresponding versions of other types.</li>
<li><code class="docutils literal notranslate"><span class="pre">post</span></code> versions are greater than all corresponding versions of other types.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">If a subcomponent has no correspondent, the missing correspondent is
treated as integer 0 to ensure <code class="docutils literal notranslate"><span class="pre">'1.1'</span> <span class="pre">==</span> <span class="pre">1.1.0'</span></code>.</p>
</li>
</ul>
</div></blockquote>
<p>The resulting order is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  0.4
&lt; 0.4.0
&lt; 0.4.1.rc
== 0.4.1.RC   # case-insensitive comparison
&lt; 0.4.1
&lt; 0.5a1
&lt; 0.5b3
&lt; 0.5C1      # case-insensitive comparison
&lt; 0.5
&lt; 0.9.6
&lt; 0.960923
&lt; 1.0
&lt; 1.1dev1    # special case ``dev``
&lt; 1.1a1
&lt; 1.1.0dev1  # special case ``dev``
== 1.1.dev1   # 0 is inserted before string
&lt; 1.1.a1
&lt; 1.1.0rc1
&lt; 1.1.0
== 1.1
&lt; 1.1.0post1 # special case ``post``
== 1.1.post1  # 0 is inserted before string
&lt; 1.1post1   # special case ``post``
&lt; 1996.07.12
&lt; 1!0.4.1    # epoch increased
&lt; 1!3.1.1.6
&lt; 2!0.4.1    # epoch increased again
</pre></div>
</div>
<p>Some packages (most notably OpenSSL) have incompatible version conventions.
In particular, OpenSSL interprets letters as version counters rather than
pre-release identifiers. For OpenSSL, the relation <code class="docutils literal notranslate"><span class="pre">1.0.1</span> <span class="pre">&lt;</span> <span class="pre">1.0.1a</span>&#160;&#160; <span class="pre">=&gt;</span>&#160;&#160; <span class="pre">True</span>&#160;&#160; <span class="pre">#</span> <span class="pre">for</span> <span class="pre">OpenSSL</span></code>
holds, whereas conda packages use the opposite ordering.
You can work around this problem by appending a dash to plain
version numbers:</p>
<p><code class="docutils literal notranslate"><span class="pre">1.0.1a</span>&#160; <span class="pre">=&gt;</span>&#160; <span class="pre">1.0.1post.a</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">#</span> <span class="pre">ensure</span> <span class="pre">correct</span> <span class="pre">ordering</span> <span class="pre">for</span> <span class="pre">OpenSSL</span></code></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="channels.html" class="btn btn-neutral float-right" title="Conda channels" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="packages.html" class="btn btn-neutral float-left" title="Conda packages" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Continuum Analytics

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27761864-11', 'auto');
  ga('set', 'anonymizeIp', true);
  ga('send', 'pageview');

</script>


</body>
</html>